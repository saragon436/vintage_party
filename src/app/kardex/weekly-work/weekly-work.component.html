<div class="weekly-container">

  <!-- Sin datos -->
  <div *ngIf="weeks.length === 0" class="empty-state">
    <h2>Mobiliario semanal</h2>
    <p>No hay semanas registradas.</p>
  </div>

  <!-- Con datos -->
  <div *ngIf="weeks.length > 0">

    <!-- HEADER SEMANA -->
    <div class="week-header">
      <div class="week-nav">
        <button class="btn-nav"
                (click)="goToPreviousWeek()"
                [disabled]="selectedWeekIndex === 0">‚¨Ö Semana anterior</button>

        <div class="week-info">
          <div class="week-title">Mobiliario semanal</div>
          <small class="week-range">{{ selectedWeekRange }}</small>
        </div>

        <button class="btn-nav"
                (click)="goToNextWeek()"
                [disabled]="selectedWeekIndex === weeks.length - 1">Semana siguiente ‚û°</button>
      </div>

      <div class="week-actions">
        <button class="btn-action" (click)="printWeek()">üñ® Imprimir</button>
        <button class="btn-action" (click)="exportToExcel()">‚¨á Exportar Excel</button>
      </div>
    </div>

    <!-- TABS DE ALMAC√âN -->
    <div class="warehouse-tabs">
      <button class="warehouse-tab"
              [class.active]="selectedWarehouse === 1"
              (click)="setWarehouse(1)">Almac√©n 1</button>

      <button class="warehouse-tab"
              [class.active]="selectedWarehouse === 2"
              (click)="setWarehouse(2)">Almac√©n 2</button>
    </div>

    <!-- Si NO hay items en toda la semana para ese almac√©n -->
    <div *ngIf="!hasAccessoriesForSelectedWarehouse()" class="empty-state">
      <p>No hay mobiliario registrado esta semana para este almac√©n.</p>
    </div>

    <!-- LISTA POR D√çA -->
    <div *ngFor="let day of currentWeekView" class="day-block">

      <div class="day-separator"></div>

      <h3 class="day-title">
        POR REVISAR - {{ selectedWarehouse === 1 ? 'Almac√©n 1' : 'Almac√©n 2' }}
      </h3>

      <h4 class="day-date">{{ day.date }}</h4>

      <!-- TABLA SI HAY ITEMS -->
      <table class="items-table"
             *ngIf="getAccessoriesByWarehouse(day, selectedWarehouse).length > 0">
        <thead>
          <tr>
            <th class="col-mob">MOBILIARIO</th>
            <th class="col-cant">CANT.</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let acc of getAccessoriesByWarehouse(day, selectedWarehouse)">
            <td class="item-description">{{ acc.description }}</td>
            <td class="item-quantity">{{ acc.totalAmount }}</td>
          </tr>
        </tbody>
      </table>

      <!-- Cuando ese d√≠a NO tiene registros de ese almac√©n -->
      <div *ngIf="getAccessoriesByWarehouse(day, selectedWarehouse).length === 0"
           class="empty-day">
        <small>Sin mobiliario para este almac√©n.</small>
      </div>

    </div>
  </div>
</div>
