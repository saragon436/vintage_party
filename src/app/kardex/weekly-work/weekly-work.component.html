<div class="weekly-container">

  <!-- Sin datos en el mes -->
  <div *ngIf="weeks.length === 0" class="empty-state">
    <h2>Mobiliario semanal</h2>
    <p>No hay semanas con trabajos registradas para este mes.</p>
  </div>

  <!-- Con datos -->
  <div *ngIf="weeks.length > 0">

    <!-- Barra de navegaciÃ³n de semanas + acciones -->
    <div class="week-header">
      <div class="week-nav">
        <button
          class="btn-nav"
          (click)="goToPreviousWeek()
          "
          [disabled]="selectedWeekIndex === 0">
          â¬… Semana anterior
        </button>

        <div class="week-info">
          <div class="week-title">
            Mobiliario semanal
          </div>
          <small class="week-range">
            {{ selectedWeekRange }}
          </small>
        </div>

        <button
          class="btn-nav"
          (click)="goToNextWeek()"
          [disabled]="selectedWeekIndex === weeks.length - 1">
          Semana siguiente âž¡
        </button>
      </div>

      <div class="week-actions">
        <button class="btn-action" (click)="printWeek()">
          ðŸ–¨ Imprimir
        </button>
        <button class="btn-action" (click)="exportToExcel()">
          â¬‡ Exportar Excel
        </button>
      </div>
    </div>

    <!-- Si la semana seleccionada no tiene items -->
    <div *ngIf="currentWeekView.length === 0" class="empty-state">
      <p>No hay trabajos en esta semana.</p>
    </div>

    <!-- Listado por dÃ­a -->
    <div *ngFor="let day of currentWeekView" class="day-block">

      <!-- Separador visual del dÃ­a -->
      <div class="day-separator"></div>

      <h3 class="day-title">POR REVISAR</h3>
      <h4 class="day-date">{{ day.date }}</h4>

      <!-- Tabla de mobiliarios agregados por dÃ­a -->
      <table class="items-table">
        <thead>
          <tr>
            <th class="col-mob">MOBILIARIO</th>
            <th class="col-cant">CANT.</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let acc of day.accessories">
            <td class="item-description">
              {{ acc.description }}
            </td>
            <td class="item-quantity">
              {{ acc.totalAmount }}
            </td>
          </tr>
        </tbody>
      </table>

    </div>
  </div>
</div>
